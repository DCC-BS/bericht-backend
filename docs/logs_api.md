# Logs API Endpoint

The bericht-backend application provides an endpoint to retrieve application logs through a REST API. This is useful for debugging, monitoring, and analyzing application behavior.

## Endpoint Details

### GET /logs

Retrieves logs with optional filtering parameters.

#### Query Parameters

| Parameter    | Type     | Description                                          |
|--------------|----------|------------------------------------------------------|
| `level`      | string   | Filter logs by log level (e.g., INFO, WARNING, ERROR)|
| `from_time`  | datetime | Filter logs from this time (inclusive)               |
| `to_time`    | datetime | Filter logs until this time (inclusive)              |
| `limit`      | integer  | Maximum number of logs to return (default: 100)      |
| `request_id` | string   | Filter logs by specific request ID                   |

#### Response Format

```json
{
  "logs": [
    {
      "level": "string",
      "timestamp": "string",
      "message": "string",
      "module": "string | null",
      "function": "string | null",
      "line_number": "integer | null",
      "request_id": "string | null",
      "extra": {}
    }
  ],
  "count": "integer",
  "from_timestamp": "datetime | null",
  "to_timestamp": "datetime | null",
  "level_filter": "string | null"
}
```

## Example Usage

### Basic Request

```bash
curl -X GET "http://localhost:8000/logs?limit=10"
```

### Filtered Request

```bash
curl -X GET "http://localhost:8000/logs?level=ERROR&from_time=2025-06-01T00:00:00&limit=50"
```

## Implementation Details

The logs API uses an in-memory log handler that captures logs as they are generated by the application. The handler stores logs with a maximum capacity (default: 1000) and supports filtering by various criteria.

For production environments, logs are formatted as JSON for compatibility with log aggregation tools like fluentbit. In development environments, logs are formatted with colors for better readability in the console.
